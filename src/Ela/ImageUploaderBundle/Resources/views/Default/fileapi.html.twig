{% extends '::layout.html.twig' %}

{% block header %}
   <h1>HTML5 image upload, resize and crop</h1>
{% endblock %}

{% block body %}
	<div id="uploader">
	    <div class="js-fileapi-wrapper">
	        <input type="file" name="files[]" />
	    </div>
	    <div data-fileapi="active.show" class="progress">
	        <div data-fileapi="progress" class="progress__bar"></div>
	    </div>
	</div>
	<script>
	    jQuery(function ($){
	        $('#uploader').fileapi({
	            url: './ctrl.php',
	            autoUpload: true,
	            accept: 'image/*',
	            multiple: true,
	            maxSize: FileAPI.MB*10 // max file size
	        });
	    });
	</script>
{% endblock %}

{% block footer %}
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>

	<script>
	    window.FileAPI = {
	          debug: false // debug mode
	        , staticPath: '/js/jquery.fileapi/FileAPI/' // path to *.swf
	    };
	</script>
	<script src="/js/jquery.fileapi/FileAPI/FileAPI.min.js"></script>
	<script src="/js/jquery.fileapi/FileAPI/FileAPI.exif.js"></script>
	<script src="/js/jquery.fileapi/jquery.fileapi.min.js"></script>
{% endblock %}